{
	"name": "Go FUSE3 Dev Container",
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu",
	"features": {
		"ghcr.io/devcontainers/features/go:1": {
			"version": "1.25"
		}
	},
	"postCreateCommand": "sudo apt-get update && sudo apt-get install -y fuse3 libfuse3-dev && go install github.com/segmentio/golines@latest",
	"runArgs": [
		"--cap-add=SYS_ADMIN",
		"--device=/dev/fuse",
		"--security-opt=apparmor:unconfined",
		"--security-opt=seccomp=unconfined"
	],
	"settings": {
		"go.toolsManagement.autoUpdate": true,
		"go.useLanguageServer": true,
		"go.gopath": "/home/vscode/go",
		"go.formatTool": "custom",
		"go.alternateTools": {
			"customFormatter": "golines"
		},
		"go.formatFlags": [
			"-m",
			"100",
			"--chain-split-dots",
			"--shorten-comments",
			"--reformat-tags"
		],
	},
	"mounts": [
		"type=tmpfs,target=/tmp"
	]
}
